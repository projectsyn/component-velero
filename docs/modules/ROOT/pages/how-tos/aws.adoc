= Provider AWS

This guide covers how to use the aws storage provider provider

== Use AWS  Storage Provider

See https://github.com/vmware-tanzu/velero-plugin-for-aws#setup and https://github.com/vmware-tanzu/velero-plugin-for-aws for more details on the AWS Plugin.

1. Set `helm_values.configuration.provicer` parameter to `aws`

2. Add your BackupStorageLocations, VolumeSnapshotLocation and the required Secrets

[source,yaml]
----
backupstoragelocations:
- name: default
  spec:
    provider: aws
    objectStorage:
      bucket: myBucket
    credential:
      name: aws
      key: cloud
    config:
      region: 'us-west-2'
      profile: 'default'

volumesnapshotlocations:
  - name: default
    spec:
      provider: aws
      config:
        region: 'us-west-2'
        profile: 'default'

secrets:
  aws:
    cloud: |
        [default]
        aws_access_key_id =
        aws_secret_access_key =

----

3. Configure your Schedules

[source,yaml]
----
schedules:
- name: full-backup
  spec:
    schedule: '0 7 * * *'
    ttl: 24h0m0s
----
